<!DOCTYPE html>
<!-- 用户表单页面：新增/编辑用户 -->
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <!-- 页面标题：新增用户/编辑用户 -->
  <title th:text="${user.id == null ? '新增用户' : '编辑用户'}">用户管理</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap CSS -->
  <link href="/static/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <!-- 自定义CSS -->
  <link rel="stylesheet" href="/static/css/admin-common.css">
</head>

<body>
  <div th:replace="~{fragments/admin-navbar :: admin-navbar}"></div>

  <!-- 主要内容区域 -->
  <div class="container mt-4" style="padding-top: 60px;">
    <!-- 页面标题：新增用户/编辑用户 -->
    <h1 class="mb-4" th:text="${user.id == null ? '新增用户' : '编辑用户'}"></h1>

    <!-- 用户表单 -->
    <form th:action="@{/admin/users/save}" method="post" class="row g-3">
      <!-- 用户ID (隐藏) -->
      <input type="hidden" th:name="id" th:value="${user.id}">

      <!-- 用户名 -->
      <div class="col-md-6">
        <label for="username" class="form-label">用户名</label>
        <input type="text" class="form-control" id="username" name="username" th:value="${user.username}" required>
      </div>

      <!-- 邮箱 -->
      <div class="col-md-6">
        <label for="email" class="form-label">邮箱</label>
        <input type="email" class="form-control" id="email" name="email" th:value="${user.email}" required>
      </div>

      <!-- 密码 (编辑时留空不修改) -->
      <div class="col-md-6">
        <label for="password" class="form-label">密码</label>
        <input type="password" class="form-control" id="password" name="password"
          th:placeholder="${user.id != null ? '留空则不修改' : ''}" th:required="${user.id == null}">
      </div>

      <!-- 账户余额 -->
      <div class="col-md-6">
        <label for="balance" class="form-label">账户余额</label>
        <input type="number" class="form-control" id="balance" name="balance" th:value="${user.balance}" step="0.01"
          required>
      </div>

      <!-- 提交/返回按钮 -->
      <div class="col-12">
        <button type="submit" class="btn btn-primary">保存</button>
        <a href="/admin/users" class="btn btn-secondary ms-2">返回</a>
      </div>
    </form>
  </div>

  <!-- Bootstrap JavaScript -->
  <script src="/static/js/bootstrap.bundle.min.js"></script>
</body>

</html>